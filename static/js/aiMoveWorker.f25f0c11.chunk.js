!function(){"use strict";function r(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function t(t,n){if(t){if("string"===typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}}function n(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var n=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=n){var e,o,a,u,i=[],f=!0,c=!1;try{if(a=(n=n.call(r)).next,0===t){if(Object(n)!==n)return;f=!1}else for(;!(f=(e=a.call(n)).done)&&(i.push(e.value),i.length!==t);f=!0);}catch(l){c=!0,o=l}finally{try{if(!f&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(c)throw o}}return i}}(r,n)||t(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e(r)}function o(r){var t=function(r,t){if("object"!==e(r)||null===r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var o=n.call(r,t||"default");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(r,"string");return"symbol"===e(t)?t:String(t)}function a(r,t,n){return(t=o(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function u(r,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,t){return r.__proto__=t,r},u(r,t)}function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(r){return!1}}function f(r,t,n){return f=i()?Reflect.construct.bind():function(r,t,n){var e=[null];e.push.apply(e,t);var o=new(Function.bind.apply(r,e));return n&&u(o,n.prototype),o},f.apply(null,arguments)}function c(n){return function(t){if(Array.isArray(t))return r(t)}(n)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(n)||t(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=Symbol("Comlink.proxy"),s=Symbol("Comlink.endpoint"),v=Symbol("Comlink.releaseProxy"),y=Symbol("Comlink.thrown"),p=function(r){return"object"===typeof r&&null!==r||"function"===typeof r},m=new Map([["proxy",{canHandle:function(r){return p(r)&&r[l]},serialize:function(r){var t=new MessageChannel,n=t.port1,e=t.port2;return d(r,n),[e,[e]]},deserialize:function(r){return r.start(),g(r,[],t);var t}}],["throw",{canHandle:function(r){return p(r)&&y in r},serialize:function(r){var t=r.value;return[t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[]]},deserialize:function(r){if(r.isError)throw Object.assign(new Error(r.value.message),r.value);throw r.value}}]]);function d(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;t.addEventListener("message",(function e(o){if(o&&o.data){var u,i=Object.assign({path:[]},o.data),l=i.id,s=i.type,v=i.path,p=(o.data.argumentList||[]).map(O);try{var m=v.slice(0,-1).reduce((function(r,t){return r[t]}),r),h=v.reduce((function(r,t){return r[t]}),r);switch(s){case"GET":u=h;break;case"SET":m[v.slice(-1)[0]]=O(o.data.value),u=!0;break;case"APPLY":u=h.apply(m,p);break;case"CONSTRUCT":var g;u=A(f(h,c(p)));break;case"ENDPOINT":var S=new MessageChannel,E=S.port1,P=S.port2;d(r,P),u=w(E,[E]);break;case"RELEASE":u=void 0;break;default:return}}catch(g){u=a({value:g},y,0)}Promise.resolve(u).catch((function(r){return a({value:r},y,0)})).then((function(r){var o=n(j(r),2),a=o[0],u=o[1];t.postMessage(Object.assign(Object.assign({},a),{id:l}),u),"RELEASE"===s&&(t.removeEventListener("message",e),b(t))}))}})),t.start&&t.start()}function b(r){(function(r){return"MessagePort"===r.constructor.name})(r)&&r.close()}function h(r){if(r)throw new Error("Proxy has been released and is not useable")}function g(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=!1,a=new Proxy(e,{get:function(n,e){if(h(o),e===v)return function(){return P(r,{type:"RELEASE",path:t.map((function(r){return r.toString()}))}).then((function(){b(r),o=!0}))};if("then"===e){if(0===t.length)return{then:function(){return a}};var u=P(r,{type:"GET",path:t.map((function(r){return r.toString()}))}).then(O);return u.then.bind(u)}return g(r,[].concat(c(t),[e]))},set:function(e,a,u){h(o);var i=n(j(u),2),f=i[0],l=i[1];return P(r,{type:"SET",path:[].concat(c(t),[a]).map((function(r){return r.toString()})),value:f},l).then(O)},apply:function(e,a,u){h(o);var i=t[t.length-1];if(i===s)return P(r,{type:"ENDPOINT"}).then(O);if("bind"===i)return g(r,t.slice(0,-1));var f=n(S(u),2),c=f[0],l=f[1];return P(r,{type:"APPLY",path:t.map((function(r){return r.toString()})),argumentList:c},l).then(O)},construct:function(e,a){h(o);var u=n(S(a),2),i=u[0],f=u[1];return P(r,{type:"CONSTRUCT",path:t.map((function(r){return r.toString()})),argumentList:i},f).then(O)}});return a}function S(r){var t,n=r.map(j);return[n.map((function(r){return r[0]})),(t=n.map((function(r){return r[1]})),Array.prototype.concat.apply([],t))]}var E=new WeakMap;function w(r,t){return E.set(r,t),r}function A(r){return Object.assign(r,a({},l,!0))}function j(r){var e,o=function(r,n){var e="undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!e){if(Array.isArray(r)||(e=t(r))||n&&r&&"number"===typeof r.length){e&&(r=e);var o=0,a=function(){};return{s:a,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,f=!1;return{s:function(){e=e.call(r)},n:function(){var r=e.next();return i=r.done,r},e:function(r){f=!0,u=r},f:function(){try{i||null==e.return||e.return()}finally{if(f)throw u}}}}(m);try{for(o.s();!(e=o.n()).done;){var a=n(e.value,2),u=a[0],i=a[1];if(i.canHandle(r)){var f=n(i.serialize(r),2);return[{type:"HANDLER",name:u,value:f[0]},f[1]]}}}catch(c){o.e(c)}finally{o.f()}return[{type:"RAW",value:r},E.get(r)||[]]}function O(r){switch(r.type){case"HANDLER":return m.get(r.name).deserialize(r.value);case"RAW":return r.value}}function P(r,t,n){return new Promise((function(e){var o=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");r.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===o&&(r.removeEventListener("message",t),e(n.data))})),r.start&&r.start(),r.postMessage(Object.assign({id:o},t),n)}))}var R=function(r){var t=r.map((function(r){return c(r)}));return t},T=function(r){for(var t=0;t<7;t++)if(!r[0][t])return!1;return!0},L=function(r,t,n,e,o,a){for(var u=0,i=0,f=0;f<4;f++)"red"===o[r][t]?u++:"yellow"===o[r][t]&&i++,r+=n,t+=e;return 4===u?-a:4===i?a:i},k=function(r,t){for(var n=0,e=0,o=0,a=0,u=0;u<3;u++)for(var i=0;i<7;i++){var f=L(u,i,1,0,r,t);if(f===t)return t;if(f===-t)return-t;n+=f}for(var c=0;c<6;c++)for(var l=0;l<4;l++){var s=L(c,l,0,1,r,t);if(s===t)return t;if(s===-t)return-t;e+=s}for(var v=0;v<3;v++)for(var y=0;y<4;y++){var p=L(v,y,1,1,r,t);if(p===t)return t;if(p===-t)return-t;o+=p}for(var m=3;m<6;m++)for(var d=0;d<=3;d++){var b=L(m,d,-1,1,r,t);if(b===t)return t;if(b===-t)return-t;a+=b}return e+n+o+a},C=function(r,t){for(var n=0;n<5&&!r[n+1][t];)n++;return n};function M(r,t,n,e,o){var a=k(r,n);if(0===t||a===n||a===-n||T(r))return[null,a];for(var u=[null,-1/0],i=0;i<7;i++){var f=R(r),c=C(f,i);if(!f[c][i]){f[c][i]="yellow";var l=N(f,t-1,n,e,o);if((null===u[0]||l[1]>u[1])&&(u[0]=i,u[1]=l[1],e=l[1]),e>=o)return u}}return u}function N(r,t,n,e,o){var a=k(r,n);if(0===t||a===n||a===-n||T(r))return[null,a];for(var u=[null,1/0],i=0;i<7;i++){var f=R(r),c=C(f,i);if(!f[c][i]){f[c][i]="red";var l=M(f,t-1,n,e,o);if((null==u[0]||l[1]<u[1])&&(u[0]=i,u[1]=l[1],o=l[1]),e>=o)return u}}return u}d({maximizePlay:M})}();
//# sourceMappingURL=aiMoveWorker.f25f0c11.chunk.js.map